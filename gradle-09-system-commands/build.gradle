defaultTasks 'list'

import org.apache.tools.ant.taskdefs.condition.Os

task list {
	def r;
	if(Os.isFamily(Os.FAMILY_WINDOWS)) {
		r = ['dir'].execute()
	}else{
		r = [
			'ls', '-alh'
		].execute()
	}
	println "============"
	println r.text
	println "============"
}

// more in https://docs.gradle.org/current/dsl/org.gradle.api.tasks.Exec.html
task list2(type:Exec) {
	workingDir './'

	if(Os.isFamily(Os.FAMILY_WINDOWS)) {
		commandLine 'dir'
	}else{
		commandLine 'ls', '-alh'
	}

	//store the output instead of printing to the console:
//	standardOutput = new ByteArrayOutputStream()

}
